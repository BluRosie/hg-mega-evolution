.nds
.thumb
.include "armips/include/move_script.s"

//胜利火焰
.create "data/move/move_anim/0_490", 0x0

HIT_FIRE_BALL equ 0//击中时快速闪出的小火点
HIT_FIRE_BALL_2 equ 1
FIRE_BALL equ 2 //生成一团火球
SMALL_FIRE_BALL equ 3//圆形的火圈闪烁
START_FIRE equ 4//初始的小火苗
HIT_CIRCLE equ 10 //斜着的圈圈

move_55:
    LOAD_PARTICLE_DROP 0, 487

    //ADD_PARTICLE_DATA 0,3,2,2,2,2,2,EMTFUNC_SEP_POS

    WAIT 10
    BG_PAL_FADE_IN PAL_BLACK
    SOUND_FLOW_LR 1939
    MON_COLOR_CHANGE FLAG_ATTACK,PAL_RED,100
    //初始生成
    ADD_PARTICLE 0,4,EMTFUNC_ATTACK_POS
    ADD_PARTICLE 0,3,EMTFUNC_ATTACK_POS
    WAIT 15
    //v形火焰
    ADD_PARTICLE 0,5,EMTFUNC_ATTACK_POS
    ADD_PARTICLE 0,6,EMTFUNC_ATTACK_POS
    WAIT_PARTICLE
    //v形图
    ADD_PARTICLE 0,13,EMTFUNC_DEFENCE_POS
    ADD_PARTICLE 0,5,EMTFUNC_DEFENCE_POS
    ADD_PARTICLE 0,6,EMTFUNC_DEFENCE_POS
    WAIT 20
    BG_PAL_FADE_OUT PAL_BLACK
    WAIT_FLAG

    MON_COORD_CHANGE -16,+8,FLAG_ATTACK | 0x100
    WAIT_FLAG
    //击中
    //v形火焰
    
    BG_PAL_FADE_IN PAL_RED_BROWN
    
    MON_COORD_CHANGE +32,-16,FLAG_ATTACK | 0x100
    WAIT_FLAG
    SOUND_FLOW_LR 2011
    WAIT 60
    MON_SHAKE SHAKE_M_X,SHAKE_M_WAIT,SHAKE_NUM_LONG,FLAG_DEF | 0x100
    //两个环
    ADD_PARTICLE 0,10,EMTFUNC_DEFENCE_POS
    ADD_PARTICLE 0,11,EMTFUNC_DEFENCE_POS
    WAIT_PARTICLE
    MON_COORD_CHANGE -16,+8,FLAG_ATTACK | 0x100
    WAIT_FLAG
    
    EXIT_PARTICLE 0
    BG_PAL_FADE_OUT PAL_RED_BROWN
    
    WAIT_FLAG

    END

.close